# 56. 공개된 API 요소엔 항상 문서화 주석을 작성하라

Created: 2021년 5월 23일
Created by: Seha Jyang

**API를 올바로 문서화 하려면 공개된 모든 클래스, 인터페이스, 메서드, 필드 선언에 문서화 주석을 달아야 한다.**

직렬화 할수있는 클래스라면 직렬화 형태(item 87) 에 관해서도 적어야 한다. 기본 생성자엔 자바독을 달 방법이 없으니 **공개 클래스에는 절대 기본 생성자를 사용하면 안된다.**

**메서드용 문서화 주석에는 해당 메서드와 클라이언트 사이의 규약을 명료하게 기술해야 한다.**

그 메서드가 어떻게 동작하는지가 아니라 무엇을 하는지를 기술해야 한다.

문서화 주석에는 클라이언트가 해당 메서드를 호출하기 위한 전제조건(precondition)을 모두 나열해야 한다. 

부작용도 문서화해야 한다. 부작용이란 사후조건으로 명확히 나타나진 않지만 시스템의 상태에 어떠한 변화를 가져오는 것을 뜻한다.

return 태그의 설명이 메서드 설명과 같을 때 @return 태그를 생략해도 좋다.

클래스를 상속용으로 설계할 땐 자기 사용 패턴(self-use pattern)에 대해서도 문서에 남겨야 하며 `@implSpec` 태그로 문서화한다. 

implSpec 주석은 해당 메서드와 하위 클래스 사이의 계약을 설명하며 하위 클래스가 그 메서드를 상속하거나 super키워드를 이용해 호출할 때 그 메서드가 어떻게 동작하는지 명시해줘야 한다.

자바 11에서도 자바독 명령에 `-tag "implSpec:a:Implementation Requirements:"` 스위치를 켜주지 않으면 @implSpec 태그를 무시해버린다.

자바독 첫번째 문장은 해당 요소의 요약설명(summary-description)으로 간주된다. 그리고 대상 기능을 고유하게 기술해야 하고 **한 클래스(혹 인터페이스) 안에서 요약설명이 똑같은 멤버(혹은 생성자)가 둘 이상이면 안된다**

**메서드와 생성자의** 요약설명은 해당 메서드와 생성자의 동작을 설명하는 **동사구여야하며 3인칭 문장으로 써야한다.**

**클래스, 인터페이스, 필드**의 요약설명은 대상을 설명하는 **명사절이어야 한다**

**제네릭, enumtype, 어노테이션의 자바독은 모든 타입 파라미터에 주석을 달아야 한다.**

**EnumType을 문서화 할 때는 상수들에도 주석을 달아야 한다**

**어노테이션 타입을 문서화 할 때는 멤버들에도 모두 주석을 달아야 한다**

필드 설명은 명사구로 한다. 어노테이션 타입의 요약설명은 프로그램 요소에 이 어노테이션을 단다는게 어떤 의미인지 설명하는 동사구로 한다.

**클래스 혹은 static method가 스레드 안전하든 그렇지않든, 스레드 안전 수준을 반드시 API 설명에 포함해야 한다.또한 직렬화 할수있는 클래스라면 직렬화 형태도 API설명에 기술해야 한다.**

자바독은 주석을 상속할 수 있으며 `@inheritDoc` 태그로 상속할 수 있다.

정말 잘 쓰인 문서인지 확인하려면 **자바독 유틸리티가 생성한 웹페이지를 읽어보자**

다른 사람이 쓸 API라면 모든 API요소를 검토해야한다.

## 정리

문서화 주석은 API를 문서화 하는 가장 좋은 방법이다. 공개 API라면 빠짐없이 설명을 달아야 하고 표준 규약을 일관되게 지켜야한다. HTML태그를 사용할 수 있으며 HTML메타문자는 특별하게 취급되어야 한다.