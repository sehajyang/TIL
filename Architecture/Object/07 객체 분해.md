# 07. 객체 분해

Created: 2021년 2월 27일
Created by: Seha Jyang

## 하향식 구조의 문제점

- 메인 함수의 빈번한 재설계
    - 실제 시스템에 정상 이란 존재하지 않는다.
- 하향식 접근법은 로직을 설계하는 초기단계부터 입출력 방법과 출력 양식을 함께 고민하도록 강요한다.
    - 사용자의 인터페이스 관심사가 한데 섞이게 된다.
        - 코드 안에서 비즈니스 로직과 사용자 인터페이스 로직이 밀접하게 결합된다.
- 하향식 설계와 관련된 모든 문제의 원인은 결합도다.
    - 상위 함수가 강요하는 문맥에 강하게 결합된다.
    - 시간적으로 결합되어있다.
    - 무엇 이 아니라 어떻게 에 집중했기 때문이다.
    - 현재의 문맥에 강하게 결합된 시스템은 현재 문맥을 떠나 다른 문맥으로 옮겨갔을 때 재사용하기 어렵다.
- 데이터 변경으로 인한 영향을 최소화하려면 데이터와 함께 변경되는 부분과 그렇지 않은 부분을 명확하게 분리해야 한다.
    - 데이터와 함께 변경되는 부분을 하나의 구현단위로 묶고 외부에서는 제공되는 함수만 이용해 데이터에 접근해야 한다.
        - 잘 정의된 퍼블릭 인터페이스를 통해 데이터에 대한 접근을 통제해야 한다.

## 모듈

- 복합성
    - 모듈이 너무 복잡한 경우 사용하기 어려움, 외부에 모듈을 추상화할 수 있는 인터페이스를 제공해서 모듈의 복잡도를 낮춰야한다.
- 변경 가능성
    - 변경 가능한 설계 결정이 외부에 노출될경우 실제 변경이 발생했을 때 파급효과가 커진다.
    - 변경 발생시 하나의 모듈만 수정하면 되도록 설계 결정을 모듈 내부로 감추고 외부엔 변경되지 않을 인터페이스를 제공한다.

### 변경을 기준으로 선택하라

- 클래스가 추상 데이터 타입인지 확인할 수 있는 가장 간단한 방법은 **클래스 내부에 인스턴스 타입을 표현하는 변수가 있는지 살펴보는 것** 이다
- 이처럼 기존 코드에 영향을 미치지 않고 새로운 객체 유형 및 행위를 추가할 수 있는 특성을 **OCP** 라고 한다.
    - 확장이 용이해진다.